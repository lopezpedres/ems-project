"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.newError = void 0;
var cleanStackTrace_1 = require("./cleanStackTrace");
function newError(errorMessage, numberOfStackTraceLinesToRemove) {
    if (errorMessage.includes("\n")) {
        throw new Error("Following error message contains a new line character `\n` which is prohibited: " +
            errorMessage);
    }
    var err;
    {
        var stackTraceLimit__original = Error.stackTraceLimit;
        Error.stackTraceLimit = Infinity;
        err = new Error(errorMessage);
        Error.stackTraceLimit = stackTraceLimit__original;
    }
    cleanStackTrace_1.cleanStackTrace(err, numberOfStackTraceLinesToRemove);
    return err;
}
exports.newError = newError;
//# sourceMappingURL=newError.js.map